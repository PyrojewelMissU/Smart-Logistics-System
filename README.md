# 智能物流配送系统

## 一、项目简介

本项目是一个基于 **C++** 实现的 **智能物流配送系统模拟程序**，综合运用了多种经典算法，用于完成以下核心任务：

- 📍 **路径规划**（最短路径、配送路线优化）
- 🚚 **车辆调度**（容量 + 时间窗约束）
- 📦 **库存优化**（预算约束下的补货决策）
- 🔍 **算法对比演示**（贪心 / 2-opt / 回溯 + 分支限界）

系统支持 **文件数据输入 + 自动示例数据生成 + 菜单式交互操作**，适合作为
👉《数据结构》《算法设计》《运筹学》《智能物流系统》等课程的实验或课程设计。

------

## 二、系统功能概览

### 1️⃣ 用户登录模块

- 默认账号：`1`
- 默认密码：`123456`
- 最多 3 次登录尝试

------

### 2️⃣ 基础数据管理

系统自动加载或生成以下数据文件：

| 文件名          | 内容               |
| --------------- | ------------------ |
| `nodes.txt`     | 节点信息（含仓库） |
| `edges.txt`     | 路网边及距离       |
| `orders.txt`    | 客户订单           |
| `vehicles.txt`  | 车辆信息           |
| `inventory.txt` | 库存与补货方案     |

若文件不存在，程序会 **自动生成示例数据**，确保可直接运行。

------

### 3️⃣ 路径规划（Dijkstra）

- 支持任意两节点之间的最短路径查询
- 输出：
  - 最短距离
  - 具体路径节点序列

📌 使用算法：

- **Dijkstra 单源最短路径算法**
- 基于邻接表 + 优先队列实现

------

### 4️⃣ 车辆调度（带时间窗）

#### 调度目标

在满足以下约束的前提下，尽可能分配订单：

- 🚚 车辆容量约束
- ⏱ 订单时间窗（readyTime / dueTime）

#### 调度策略

- 订单按 **最早截止时间优先**
- 对每个订单选择 **最早可完成的可行车辆**
- 若无车辆满足，则标记为未分配订单

📌 算法类型：

- **贪心调度算法（启发式）**

------

### 5️⃣ 路线规划与优化

#### ① 初始路线生成

- 基于 **最短路距离矩阵**
- 使用 **最近邻贪心算法（Nearest Neighbor）**
- 路线形式：
  `仓库 → 客户1 → 客户2 → ... → 仓库`

#### ② 小规模精确优化（≤10 个客户）

- **回溯 + 分支限界（TSP 变体）**
- 自动以贪心解作为上界进行剪枝
- 输出：
  - 贪心距离
  - 最优距离
  - 搜索节点数
  - 剪枝次数
  - 优化率

#### ③ 大规模近似优化

- 使用 **2-opt 局部搜索算法**
- 对初始路线进行边交换优化

📌 涉及算法：

- 贪心
- 回溯 + 分支限界
- 2-opt 局部优化

------

### 6️⃣ 库存优化（动态规划）

#### 问题描述

在 **给定总预算 B** 的条件下，为每种商品选择：

- 不补货
- 或选择一种补货方案

目标是：

> **最小化缺货罚金（等价于最大化需求满足度）**

#### 模型说明

- 缺货量 = `max(0, demand - (onHand + 补货量))`
- 罚金 = `缺货量 × unitPenalty`

📌 算法类型：

- **多物品 + 多方案 + 预算约束的动态规划**
- 状态：`DP[i][b]`
  表示前 `i` 个物品、预算 `b` 下的最小罚金

#### 输出内容

- 最优使用预算
- 每个物品的补货决策
- 缺货情况与罚金统计

------

## 三、菜单功能说明

```
=============================
  智能物流配送系统（实验3）
=============================
1. 查看基础数据
2. 路径规划：两点最短路径（Dijkstra）
3. 配送规划（时间窗调度 + 路线优化）
4. 路线优化对比演示（贪心 vs 2-opt）
5. 库存优化（动态规划 DP）
6. 退出系统
```

------

## 四、数据文件格式说明

### 📄 nodes.txt

```
nodeId nodeName
```

### 📄 edges.txt

```
u v weight
```

### 📄 orders.txt

```
orderId nodeId demand serviceTime readyTime dueTime
```

### 📄 vehicles.txt

```
vehId capacity startTime
```

### 📄 inventory.txt

```
itemName onHand demand unitPenalty optionCount  qty1 cost1  qty2 cost2 ...
```

------

## 五、编译与运行方式

### 💻 编译（Linux / macOS / Windows MinGW）

```bash
g++ -std=c++17 main.cpp -o logistics
```

### ▶ 运行

```bash
./logistics
```

> Windows（CMD / PowerShell）：

```bash
logistics.exe
```

------

## 六、实验特色与加分点

✅ 多算法综合应用（贪心 / Dijkstra / DP / 回溯）
✅ 支持时间窗约束的车辆调度
✅ 路线优化算法对比与性能统计
✅ 自动示例数据生成，开箱即用
✅ 菜单式交互，演示友好
✅ 代码结构清晰，适合课程答辩讲解

------

## 七、适用场景

- 📘 算法设计课程实验
- 📘 数据结构综合实验
- 📘 智能物流 / 运筹学课程设计
- 📘 算法演示与教学示例

------

## 八、作者说明

本系统为 **教学与实验用途示例程序**，
适合在理解算法原理的基础上进行二次扩展，如：

- 多仓库配送
- 多车辆路径问题（VRP）
- 更复杂时间窗约束
- 成本 / 碳排放优化

----

